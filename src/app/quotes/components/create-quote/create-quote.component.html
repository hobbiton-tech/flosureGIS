<!-- <h1>Create Quotation</h1> -->
<div style="margin: 15px;">
    <nz-breadcrumb>
        <nz-breadcrumb-item>
            Quotes
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
            Create Quote
        </nz-breadcrumb-item>
    </nz-breadcrumb>

    <!-- Policy Details form starts here -->
    <form nz-form style="margin-top: 20px" [formGroup]="quoteForm" novalidate>
        <nz-card nzTitle="Policy Details" style="margin-bottom: 5px;" [nzExtra]="switchTemplate">
            <ng-template #switchTemplate>
                <nz-switch [ngModel]="agentMode" [ngModelOptions]="{standalone: true}" nzCheckedChildren="Agent Mode"
                    nzUnCheckedChildren="User Mode" [nzControl]="false" (click)="switchMode()"
                    [nzLoading]="switchLoading"></nz-switch>
            </ng-template>
            <div nz-row nzGutter="0">
                <div nz-col nzSpan="12">
                    <nz-form-item>
                        <nz-form-label nzSpan="7" nzRequired>Client Name</nz-form-label>
                        <nz-form-control nzSpan="17">
                            <nz-select formControlName="clientCode" nzPlaceHolder="Select or create client">
                                <div *ngFor="let client of clients">
                                    <nz-option [nzValue]="
                                            client.clientType === 'Individual'
                                                ? client.firstName +
                                                  ' ' +
                                                  client.lastName
                                                : client.companyName
                                        " [nzLabel]="
                                            client.clientType === 'Individual'
                                                ? client.firstName +
                                                  ' ' +
                                                  client.lastName
                                                : client.companyName
                                        "></nz-option>
                                </div>

                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzSpan="7" nzRequired>Currency</nz-form-label>
                        <nz-form-control nzSpan="17">
                            <nz-select formControlName="currency" nzPlaceHolder="Select currency">
                                <nz-option nzValue="ZMW" nzLabel="ZMW"></nz-option>
                                <nz-option nzValue="Dollar" nzLabel="Dollar"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item *ngIf="agentMode">
                        <nz-form-label nzRequired nzSpan="7">Agent</nz-form-label>
                        <nz-form-control nzSpan="17">
                            <input nz-input formControlName="user" />
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div nz-col nzSpan="12">
                    <nz-form-item>
                        <nz-form-label nzRequired nzSpan="7">Select Start Date</nz-form-label>
                        <nz-form-control nzSpan="17">
                            <nz-date-picker formControlName="startDate" nzFormat="dd-MM-yyyy"
                                [nzDisabledDate]="disabledStartDate" (ngModelChange)="handlePolicyEndDateCalculation()">
                            </nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzSpan="12">
                    <nz-form-item>
                        <nz-form-label nzSpan="7" nzRequired>Quarter</nz-form-label>
                        <nz-form-control nzSpan="5">
                            <nz-select formControlName="quarter" nzPlaceHolder="Select quarter"
                                (ngModelChange)="handlePolicyEndDateCalculation()">
                                <nz-option nzValue="1" nzLabel="1"></nz-option>
                                <nz-option nzValue="2" nzLabel="2"></nz-option>
                                <nz-option nzValue="3" nzLabel="3"></nz-option>
                                <nz-option nzValue="4" nzLabel="4"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-label nzRequired nzSpan="7">End Date</nz-form-label>
                        <nz-form-control nzSpan="17">
                            <nz-date-picker formControlName="endDate" nzFormat="dd-MM-yyyy" nzPlaceHolder="End"
                                nzDisabled="true"></nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </nz-card>
    </form>
    <!-- Policy Details form ends here -->

    <!-- Risk Details starts here -->
    <nz-card nzTitle="Risk Details" style="margin-bottom: 5px;">
        <div nz-row nzGutter="0" style="margin-top: 20px;">
            <div nz-col>
                <nz-collapse>
                    <nz-collapse-panel nzHeader="Add Risk" [nzActive]="isAddRiskPanelOpen"
                        (nzActiveChange)="resetForms()">
                        <div nz-row nzGutter="0" style="margin-bottom: 30px;">
                            <div nz-col nzSpan="12">
                                <nz-form-item>
                                    <nz-form-label [nzSpan]="7" nzFor="insuranceType" nzRequired>Insurance Type
                                    </nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <nz-select name="insuranceType" [(ngModel)]="selectedValue"
                                            [compareWith]="compareFn" (ngModelChange)="log($event)" nzAllowClear
                                            nzPlaceHolder="Choose">
                                            <nz-option *ngFor="let option of optionList" [nzValue]="option"
                                                [nzLabel]="option.label"></nz-option>
                                        </nz-select>
                                    </nz-form-control>
                                </nz-form-item>

                            </div>
                            <div nz-col nzSpan="12">
                                <nz-form-item>
                                    <button nz-button nzType="primary" (click)="showModal()"
                                        style="float: right;">Import Fleet</button>
                                </nz-form-item>
                            </div>
                        </div>

                        <!-- Comprehensive Risk Details start here -->
                        <div *ngIf="selectedValue?.value === 'Comprehensive'">
                            <form [formGroup]="riskComprehensiveForm">
                                <div nz-row nzGutter="0">
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="vehicleMake" nzRequired>Vehicle Make
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzPlaceHolder="Select vehicle make" nzAllowClear nzShowSearch
                                                    nzServerSearch [(ngModel)]="selectedVehicleMake"
                                                    formControlName="vehicleMake"
                                                    (nzOnSearch)="onVehicleMakeSearch($event)">
                                                    <ng-container *ngFor="let o of vehicleMakeOptionList">
                                                        <nz-option *ngIf="!isVehicleMakeLoading" [nzValue]="o"
                                                            [nzLabel]="o"></nz-option>
                                                    </ng-container>
                                                    <nz-option *ngIf="isVehicleMakeLoading" nzDisabled nzCustomContent>
                                                        <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                                        Data...
                                                    </nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="vehicleModel" nzRequired>Vehicle Model
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzPlaceHolder="Select vehicle model" nzAllowClear
                                                    nzShowSearch nzServerSearch [(ngModel)]="selectedVehicleModel"
                                                    formControlName="vehicleModel"
                                                    (nzOnSearch)="onVehicleModelSearch($event)">
                                                    <ng-container *ngFor="let o of vehicleModelOptionList">
                                                        <nz-option *ngIf="!isVehicleModelLoading" [nzValue]="o"
                                                            [nzLabel]="o"></nz-option>
                                                    </ng-container>
                                                    <nz-option *ngIf="isVehicleModelLoading" nzDisabled nzCustomContent>
                                                        <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                                        Data...
                                                    </nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="regNumber" nzRequired>Registration Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="regNumber" formControlName="regNumber" type="text"
                                                    id="regNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="color" nzRequired>Color</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="color" formControlName="color" type="text"
                                                    id="color" />
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="engineNumber" nzRequired>Engine Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="engineNumber" formControlName="engineNumber"
                                                    type="text" id="engineNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="chassisNumber" nzRequired>Chassis Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="chassisNumber" formControlName="chassisNumber"
                                                    type="text" id="chassisNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="productType">Product Type</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzShowSearch nzAllowClear formControlName="productType"
                                                    nzPlaceHolder="Select a product type" name="productType"
                                                    id="productType">
                                                    <nz-option nzLabel="Private" nzValue="Private"></nz-option>
                                                    <nz-option nzLabel="Commercial" nzValue="Commercial"></nz-option>
                                                    <nz-option nzLabel="Bus/Taxi" nzValue="Bus/Taxi"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <!-- <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="estimatedValue" nzRequired>Sum Insured
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="sumInsured" ="sumInsured"
                                                    type="text" id="sumInsured" />
                                            </nz-form-control>
                                        </nz-form-item> -->
                                    </div>
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label nzRequired nzSpan="7">Select Start Date</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-date-picker formControlName="riskStartDate"
                                                    [nzDisabledDate]="disabledStartDate" nzFormat="dd-MM-yyyy"
                                                    nzPlaceHolder="Start"
                                                    (ngModelChange)="handleComprehensiveRiskEndDateCalculation()">
                                                </nz-date-picker>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label nzSpan="7" nzRequired>Quarter</nz-form-label>
                                            <nz-form-control nzSpan="6">
                                                <nz-select nzPlaceHolder="Select quarter" formControlName="riskQuarter"
                                                    (ngModelChange)="handleComprehensiveRiskEndDateCalculation()">
                                                    <nz-option nzValue="1" nzLabel="1"></nz-option>
                                                    <nz-option nzValue="2" nzLabel="2"></nz-option>
                                                    <nz-option nzValue="3" nzLabel="3"></nz-option>
                                                    <nz-option nzValue="4" nzLabel="4"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label nzRequired nzSpan="7">End Date</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-date-picker formControlName="riskEndDate" nzFormat="dd-MM-yyyy"
                                                    nzPlaceHolder="End" nzDisabled="true">
                                                </nz-date-picker>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>

                                </div>
                                <div style="margin-top: 15px;">
                                    <nz-divider nzText="Premium Computation" nzOrientation="left"></nz-divider>
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="8">
                                            <nz-form-item>
                                                <nz-form-label nzSpan="7" nzRequired>Sum Insured</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input nzPlaceHolder="" name="sumInsured"
                                                        [(ngModel)]="sumInsured"
                                                        [ngModelOptions]="{standalone: true}" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label nzSpan="7" nzRequired>Premium rate</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="premiumRateType" style="width: 20%;"
                                                            [ngModelOptions]="{standalone: true}">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                            <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                                        [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                    <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                                        [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="premiumRate"
                                                            [(ngModel)]="premiumRate" style="width: 80%;"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>

                                            <!-- Loading starts here -->
                                            <div *ngIf="selectedValue?.value === 'Comprehensive'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-select name="load" nzPlaceHolder="Select Load"
                                                            [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                            nzAllowClear style="width: 100%;"
                                                            [ngModelOptions]="{standalone: true}" nzAllowClear
                                                            nzLabel="select load">
                                                            <nz-option
                                                                *ngFor="let option of motorComprehensiveloadingOptions"
                                                                [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                        </nz-select>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedValue?.value === 'ThirdParty'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-select name="load" nzPlaceHolder="Select Load"
                                                            [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                            nzAllowClear style="width: 100%;"
                                                            [ngModelOptions]="{standalone: true}" nzAllowClear
                                                            nzLabel="select load">
                                                            <nz-option
                                                                *ngFor="let option of motorThirdPartyloadingOptions"
                                                                [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                        </nz-select>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'increasedThirdPartyLimits'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                        Increase to
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <input nz-input [(ngModel)]="increasedThirdPartyLimitValue"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                        Rate
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-input-group nzCompact>
                                                            <nz-select [(ngModel)]="increasedThirdPartyLimitsRateType"
                                                                style="width: 40%;"
                                                                [ngModelOptions]="{standalone: true}">
                                                                <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                </nz-option>

                                                            </nz-select>
                                                            <input nz-input style="width: 60%;"
                                                                name="increasedThirdPartyLimitsRate"
                                                                [(ngModel)]="increasedThirdPartyLimitsRate"
                                                                [ngModelOptions]="{standalone: true}" />
                                                        </nz-input-group>
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                        [nzSm]="{ span: 20, offset: 7 }">
                                                        <button nz-button nzType="primary"
                                                            (click)="computeIncreasedThirdPartyLimit()"
                                                            [nzLoading]="computeIncreasedThirdPartyLimitIsLoading">Add
                                                            Load</button>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'riotAndStrike'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="riotAndStrikeRate">Rate
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-input-group nzCompact>
                                                            <nz-select [(ngModel)]="riotAndStrikeRateType"
                                                                style="width: 40%;"
                                                                [ngModelOptions]="{standalone: true}">
                                                                <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                </nz-option>
                                                                <!-- <nz-option
                                                                                *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                            <nz-option
                                                                                *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                            </nz-select>
                                                            <input nz-input nzPlaceHolder="" name="riotAndStrikeRate"
                                                                [(ngModel)]="riotAndStrikeRate" style="width: 60%;"
                                                                [ngModelOptions]="{standalone: true}" />
                                                        </nz-input-group>
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                        [nzSm]="{ span: 20, offset: 7 }">
                                                        <button nz-button nzType="primary"
                                                            (click)="computeRiotAndStrike()"
                                                            [nzLoading]="computeRiotAndStrikeIsLoading">Add
                                                            Load</button>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'carStereo'">
                                                <div nz-row nzGutter="2">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="carStereoValue">Car
                                                                Stereo Value</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <input nz-input nzPlaceHolder="" name="carStereoValue"
                                                                    [(ngModel)]="carStereoValue"
                                                                    [ngModelOptions]="{standalone: true}" />
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="carStereoRate">Rate
                                                            </nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select [(ngModel)]="carStereoRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input nzPlaceHolder=""
                                                                        name="carStereoRate" [(ngModel)]="carStereoRate"
                                                                        style="width: 60%;"
                                                                        [ngModelOptions]="{standalone: true}" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeCarStereo()"
                                                                    [nzLoading]="computeCarStereoIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'territorailExtension'">
                                                <div nz-row nzGutter="0">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7"
                                                                nzFor="territorailExtensionRate">Rate</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select
                                                                        [(ngModel)]="territorailExtensionRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input style="width: 60%;" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeTerritorialExtension()"
                                                                    [nzLoading]="computeTerritorialExtensionIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'lossOfUse'">
                                                <div nz-row nzGutter="0">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="lossOfUseDailyRate">Daily
                                                                Rate</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select [(ngModel)]="lossOfUseDailyRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="riskComprehensiveForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="riskComprehensiveForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input nzPlaceHolder=""
                                                                        name="lossOfUseDailyRate"
                                                                        [(ngModel)]="lossOfUseDailyRate"
                                                                        style="width: 60%;"
                                                                        [ngModelOptions]="{standalone: true}" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="lossOfUseDays">Number Of
                                                                Days</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <input nz-input id="lossOfUseDays" nzPlaceHolder=""
                                                                    name="lossOfUseDays" [(ngModel)]="lossOfUseDays"
                                                                    [ngModelOptions]="{standalone: true}" />
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeLossOfUse()"
                                                                    [nzLoading]="computeLossOfUseIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Loading Ends here -->

                                            <nz-form-item>
                                                <nz-form-label nzSpan="7">Discount Rate</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="premiumDiscountRateType"
                                                            style="width: 20%;" [ngModelOptions]="{standalone: true}">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                            <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                                        [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option>
                                                                    <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                                        [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="premiumDiscountRate"
                                                            [(ngModel)]="premiumDiscountRate" style="width: 80%;"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computePremium()"
                                                        [nzLoading]="computePremiumIsLoading">Compute Premium</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <!-- <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary" (click)="computeBasicPremium()" [nzLoading]="computeBasicPremiumIsLoading">Compute</button>
                                                            </nz-form-control>
                                                        </nz-form-item> -->
                                        </div>

                                        <div nz-col nzSpan="8">
                                            <div nz-col nzSpan="20" style="float: right;">
                                                <nz-card>
                                                    <nz-divider nzText="Loading" nzOrientation="left"></nz-divider>
                                                    <div *ngIf="(loads === undefined || loads.length == 0)">
                                                        <p>No Loading added</p>
                                                    </div>
                                                    <div *ngFor="let load of loads; let i = index;">
                                                        <div>
                                                            <div nz-row>
                                                                <div nz-col nzSpan="12">
                                                                    <p>{{load.loadType}}</p>
                                                                </div>
                                                                <div nz-col nzSpan="12">
                                                                    <a style="float: right;"
                                                                        (click)="removeLoad(load, $event)">Remove
                                                                        Loading</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </nz-card>
                                            </div>
                                        </div>


                                        <div nz-col nzSpan="8">
                                            <div nz-col nzSpan="20" style="float: right;">
                                                <nz-card>
                                                    <nz-descriptions nzBordered nzSize="small" nzSpan="6"
                                                        style="margin-top: 5px;" [nzColumn]="1" [nzBordered]="true"
                                                        nzSize="middle">
                                                        <nz-descriptions-item nzTitle="Basic Premium">{{basicPremium}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Loading">{{premiumLoadingTotal}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Discount">{{premiumDiscount}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Levy">{{0}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Net Premium">
                                                            {{netPremium | number:'1.2-2'}}</nz-descriptions-item>
                                                    </nz-descriptions>
                                                </nz-card>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div style=" text-align: center;  margin-top: 10px; margin-bottom: 10px;">
                                    <button nz-button nzType="primary"
                                        [disabled]="!validateriskComprehensiveFormDetails()"
                                        (click)="addComprehensiveRisk()">
                                        Add Risk
                                    </button>
                                    <button nz-button nzType="default" (click)="resetComprehensiveRiskForm($event)">
                                        Reset Form
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- Comprehensive risk details end here -->


                        <!-- Third party risk details start here -->
                        <div *ngIf="selectedValue?.value === 'ThirdParty'">
                            <form [formGroup]="riskThirdPartyForm">
                                <div nz-row nzGutter="0">
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="vehicleMake" nzRequired>Vehicle Make
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzPlaceHolder="Select vehicle make" nzAllowClear nzShowSearch
                                                    nzServerSearch [(ngModel)]="selectedVehicleMake"
                                                    formControlName="vehicleMake"
                                                    (nzOnSearch)="onVehicleMakeSearch($event)">
                                                    <ng-container *ngFor="let o of vehicleMakeOptionList">
                                                        <nz-option *ngIf="!isVehicleMakeLoading" [nzValue]="o"
                                                            [nzLabel]="o"></nz-option>
                                                    </ng-container>
                                                    <nz-option *ngIf="isVehicleMakeLoading" nzDisabled nzCustomContent>
                                                        <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                                        Data...
                                                    </nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="vehicleModel" nzRequired>Vehicle Model
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzPlaceHolder="Select vehicle model" nzAllowClear
                                                    nzShowSearch nzServerSearch [(ngModel)]="selectedVehicleModel"
                                                    formControlName="vehicleModel"
                                                    (nzOnSearch)="onVehicleModelSearch($event)">
                                                    <ng-container *ngFor="let o of vehicleModelOptionList">
                                                        <nz-option *ngIf="!isVehicleModelLoading" [nzValue]="o"
                                                            [nzLabel]="o"></nz-option>
                                                    </ng-container>
                                                    <nz-option *ngIf="isVehicleModelLoading" nzDisabled nzCustomContent>
                                                        <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                                        Data...
                                                    </nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="regNumber" nzRequired>Registration Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="regNumber" formControlName="regNumber" type="text"
                                                    id="regNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="color" nzRequired>Color</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="color" formControlName="color" type="text"
                                                    id="color" />
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="engineNumber" nzRequired>Engine Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="engineNumber" formControlName="engineNumber"
                                                    type="text" id="engineNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="chassisNumber" nzRequired>Chassis Number
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="chassisNumber" formControlName="chassisNumber"
                                                    type="text" id="chassisNumber" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="productType">Product Type</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select nzShowSearch nzAllowClear formControlName="productType"
                                                    nzPlaceHolder="Select a product type" name="productType"
                                                    id="productType">
                                                    <nz-option nzLabel="Private" nzValue="Private"></nz-option>
                                                    <nz-option nzLabel="Commercial" nzValue="Commercial"></nz-option>
                                                    <nz-option nzLabel="Bus/Taxi" nzValue="Bus/Taxi"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <!-- <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="estimatedValue" nzRequired>Sum Insured
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input name="sumInsured" ="sumInsured"
                                                    type="text" id="sumInsured" />
                                            </nz-form-control>
                                        </nz-form-item> -->
                                    </div>
                                    <div nz-col nzSpan="8">
                                        <nz-form-item>
                                            <nz-form-label nzRequired nzSpan="7">Select Start Date</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-date-picker formControlName="riskStartDate"
                                                    [nzDisabledDate]="disabledStartDate" nzFormat="dd-MM-yyyy"
                                                    nzPlaceHolder="Start"
                                                    (ngModelChange)="handleThirdPartyRiskEndDateCalculation()">
                                                </nz-date-picker>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label nzSpan="7" nzRequired>Quarter</nz-form-label>
                                            <nz-form-control nzSpan="6">
                                                <nz-select nzPlaceHolder="Select quarter" formControlName="riskQuarter"
                                                    (ngModelChange)="handleThirdPartyRiskEndDateCalculation()">
                                                    <nz-option nzValue="1" nzLabel="1"></nz-option>
                                                    <nz-option nzValue="2" nzLabel="2"></nz-option>
                                                    <nz-option nzValue="3" nzLabel="3"></nz-option>
                                                    <nz-option nzValue="4" nzLabel="4"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label nzRequired nzSpan="7">End Date</nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-date-picker formControlName="riskEndDate" nzFormat="dd-MM-yyyy"
                                                    nzPlaceHolder="End" nzDisabled="true">
                                                </nz-date-picker>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>

                                </div>
                                <div style="margin-top: 15px;">
                                    <nz-divider nzText="Premium Computation" nzOrientation="left"></nz-divider>
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="8">
                                            <nz-form-item>
                                                <nz-form-label nzSpan="7" nzRequired>Sum Insured</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input nzPlaceHolder="" name="sumInsured"
                                                        [(ngModel)]="sumInsured"
                                                        [ngModelOptions]="{standalone: true}" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label nzSpan="7" nzRequired>Premium rate</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="premiumRateType" style="width: 20%;"
                                                            [ngModelOptions]="{standalone: true}">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                            <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                                        [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                    <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                                        [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="premiumRate"
                                                            [(ngModel)]="premiumRate" style="width: 80%;"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>

                                            <!-- Loading starts here -->
                                            <div *ngIf="selectedValue?.value === 'Comprehensive'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-select name="load" nzPlaceHolder="Select Load"
                                                            [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                            nzAllowClear style="width: 100%;"
                                                            [ngModelOptions]="{standalone: true}" nzAllowClear
                                                            nzLabel="select load">
                                                            <nz-option
                                                                *ngFor="let option of motorComprehensiveloadingOptions"
                                                                [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                        </nz-select>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedValue?.value === 'ThirdParty'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-select name="load" [(ngModel)]="selectedLoadingValue"
                                                            [compareWith]="compareFn" nzAllowClear style="width: 100%;"
                                                            [ngModelOptions]="{standalone: true}" nzAllowClear
                                                            nzLabel="select load">
                                                            <nz-option
                                                                *ngFor="let option of motorThirdPartyloadingOptions"
                                                                [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                        </nz-select>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'increasedThirdPartyLimits'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                        Increase to
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <input nz-input [(ngModel)]="increasedThirdPartyLimitValue"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                        Rate
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-input-group nzCompact>
                                                            <nz-select [(ngModel)]="increasedThirdPartyLimitsRateType"
                                                                style="width: 40%;"
                                                                [ngModelOptions]="{standalone: true}">
                                                                <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                </nz-option>

                                                            </nz-select>
                                                            <input nz-input style="width: 60%;"
                                                                name="increasedThirdPartyLimitsRate"
                                                                [(ngModel)]="increasedThirdPartyLimitsRate"
                                                                [ngModelOptions]="{standalone: true}" />
                                                        </nz-input-group>
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                        [nzSm]="{ span: 20, offset: 7 }">
                                                        <button nz-button nzType="primary"
                                                            (click)="computeIncreasedThirdPartyLimit()"
                                                            [nzLoading]="computeIncreasedThirdPartyLimitIsLoading">Add
                                                            Load</button>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'riotAndStrike'">
                                                <nz-form-item>
                                                    <nz-form-label [nzSpan]="7" nzFor="riotAndStrikeRate">Rate
                                                    </nz-form-label>
                                                    <nz-form-control nzSpan="17">
                                                        <nz-input-group nzCompact>
                                                            <nz-select [(ngModel)]="riotAndStrikeRateType"
                                                                style="width: 40%;"
                                                                [ngModelOptions]="{standalone: true}">
                                                                <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                </nz-option>
                                                                <!-- <nz-option
                                                                                *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                            <nz-option
                                                                                *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                            </nz-select>
                                                            <input nz-input nzPlaceHolder="" name="riotAndStrikeRate"
                                                                [(ngModel)]="riotAndStrikeRate" style="width: 60%;"
                                                                [ngModelOptions]="{standalone: true}" />
                                                        </nz-input-group>
                                                    </nz-form-control>
                                                </nz-form-item>
                                                <nz-form-item>
                                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                        [nzSm]="{ span: 20, offset: 7 }">
                                                        <button nz-button nzType="primary"
                                                            (click)="computeRiotAndStrike()"
                                                            [nzLoading]="computeRiotAndStrikeIsLoading">Add
                                                            Load</button>
                                                    </nz-form-control>
                                                </nz-form-item>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'carStereo'">
                                                <div nz-row nzGutter="2">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="carStereoValue">Car
                                                                Stereo Value</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <input nz-input nzPlaceHolder="" name="carStereoValue"
                                                                    [(ngModel)]="carStereoValue"
                                                                    [ngModelOptions]="{standalone: true}" />
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="carStereoRate">Rate
                                                            </nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select [(ngModel)]="carStereoRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input nzPlaceHolder=""
                                                                        name="carStereoRate" [(ngModel)]="carStereoRate"
                                                                        style="width: 60%;"
                                                                        [ngModelOptions]="{standalone: true}" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeCarStereo()"
                                                                    [nzLoading]="computeCarStereoIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'territorailExtension'">
                                                <div nz-row nzGutter="0">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7"
                                                                nzFor="territorailExtensionRate">Rate</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select
                                                                        [(ngModel)]="territorailExtensionRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input style="width: 60%;" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeTerritorialExtension()"
                                                                    [nzLoading]="computeTerritorialExtensionIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <div *ngIf="selectedLoadingValue.value === 'lossOfUse'">
                                                <div nz-row nzGutter="0">
                                                    <div nz-col nzSpan="25">
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="lossOfUseDailyRate">Daily
                                                                Rate</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <nz-input-group nzCompact>
                                                                    <nz-select [(ngModel)]="lossOfUseDailyRateType"
                                                                        style="width: 40%;"
                                                                        [ngModelOptions]="{standalone: true}">
                                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                                        </nz-option>
                                                                        <!-- <nz-option
                                                                                        *ngIf="riskComprehensiveForm.get('currency').value === 'ZMW'"
                                                                                        [nzLabel]="'K'" nzValue="figure">
                                                                                    </nz-option>
                                                                                    <nz-option
                                                                                        *ngIf="riskComprehensiveForm.get('currency').value === 'Dollar'"
                                                                                        [nzLabel]="'$'" nzValue="figure">
                                                                                    </nz-option> -->
                                                                    </nz-select>
                                                                    <input nz-input nzPlaceHolder=""
                                                                        name="lossOfUseDailyRate"
                                                                        [(ngModel)]="lossOfUseDailyRate"
                                                                        style="width: 60%;"
                                                                        [ngModelOptions]="{standalone: true}" />
                                                                </nz-input-group>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-label [nzSpan]="7" nzFor="lossOfUseDays">Number Of
                                                                Days</nz-form-label>
                                                            <nz-form-control nzSpan="17">
                                                                <input nz-input id="lossOfUseDays" nzPlaceHolder=""
                                                                    name="lossOfUseDays" [(ngModel)]="lossOfUseDays"
                                                                    [ngModelOptions]="{standalone: true}" />
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                        <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                                [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary"
                                                                    (click)="computeLossOfUse()"
                                                                    [nzLoading]="computeLossOfUseIsLoading">Add
                                                                    Load</button>
                                                            </nz-form-control>
                                                        </nz-form-item>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Loading Ends here -->

                                            <nz-form-item>
                                                <nz-form-label nzSpan="7">Discount Rate</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="premiumDiscountRateType"
                                                            style="width: 20%;" [ngModelOptions]="{standalone: true}">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                            <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                                        [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option>
                                                                    <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                                        [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="premiumDiscountRate"
                                                            [(ngModel)]="premiumDiscountRate" style="width: 80%;"
                                                            [ngModelOptions]="{standalone: true}" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary"
                                                        (click)="computeThirdPartyPremium()"
                                                        [nzLoading]="computePremiumIsLoading">Compute Premium</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <!-- <nz-form-item>
                                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                                                <button nz-button nzType="primary" (click)="computeBasicPremium()" [nzLoading]="computeBasicPremiumIsLoading">Compute</button>
                                                            </nz-form-control>
                                                        </nz-form-item> -->
                                        </div>

                                        <div nz-col nzSpan="8">
                                            <div nz-col nzSpan="20" style="float: right;">
                                                <nz-card>
                                                    <nz-divider nzText="Loading" nzOrientation="left"></nz-divider>
                                                    <div *ngIf="(loads === undefined || loads.length == 0)">
                                                        <p>No Loading added</p>
                                                    </div>
                                                    <div *ngFor="let load of loads; let i = index;">
                                                        <div>
                                                            <div nz-row>
                                                                <div nz-col nzSpan="12">
                                                                    <p>{{load.loadType}}</p>
                                                                </div>
                                                                <div nz-col nzSpan="12">
                                                                    <a style="float: right;"
                                                                        (click)="removeLoad(load, $event)">Remove
                                                                        Loading</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </nz-card>
                                            </div>
                                        </div>


                                        <div nz-col nzSpan="8">
                                            <div nz-col nzSpan="20" style="float: right;">
                                                <nz-card>
                                                    <nz-descriptions nzBordered nzSize="small" nzSpan="6"
                                                        style="margin-top: 5px;" [nzColumn]="1" [nzBordered]="true"
                                                        nzSize="middle">
                                                        <nz-descriptions-item nzTitle="Basic Premium">{{basicPremium}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Loading">{{premiumLoadingTotal}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Discount">{{premiumDiscount}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Levy">{{0}}
                                                        </nz-descriptions-item>
                                                        <nz-descriptions-item nzTitle="Net Premium">
                                                            {{netPremium | number:'1.2-2'}}</nz-descriptions-item>
                                                    </nz-descriptions>
                                                </nz-card>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div style=" text-align: center;  margin-top: 10px; margin-bottom: 10px;">
                                    <button nz-button nzType="primary" [disabled]="!riskThirdPartyForm.valid"
                                        (click)="addThirdPartyRisk()">
                                        Add Risk
                                    </button>
                                    <button nz-button nzType="default" (click)="resetThirdPartyRiskForm($event)">
                                        Reset Form
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- Third party risk details end here -->
                    </nz-collapse-panel>
                </nz-collapse>
            </div>
        </div>


        <!-- Risks Table Search bar and Table details start here -->
        <div style="margin-bottom: 20px; margin-top: 20px; width: 50%;">
            <nz-input-group [nzSuffix]="suffixIconSearch">
                <input type="text" nz-input placeholder="Search by client, quotation number, agent" />
            </nz-input-group>
            <ng-template #suffixIconSearch>
                <i nz-icon nzType="search"></i>
            </ng-template>
        </div>
        <nz-table #risksTable [nzData]="risks" [nzSize]="'small'" [nzBordered]="true" id="risksTable">
            <thead>
                <tr>
                    <th>Insurance Type</th>
                    <th>Registration Number</th>
                    <th>Vehicle Make</th>
                    <th>Vehicle Model</th>
                    <th>Engine Number</th>
                    <th>Chassis Number</th>
                    <th>Color</th>
                    <th>Product Type</th>
                    <th>Sum Insured</th>
                    <th>Premium</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let risk of risksTable.data; let i = index;" style="cursor: pointer;">
                    <td>{{ risk.insuranceType }}</td>
                    <td>{{ risk.regNumber }}</td>
                    <td>{{ risk.vehicleMake }}</td>
                    <td>{{ risk.vehicleModel }}</td>
                    <td>{{ risk.engineNumber }}</td>
                    <td>{{ risk.chassisNumber }}</td>
                    <td>{{ risk.color }}</td>
                    <td>{{ risk.productType }}</td>
                    <td>{{ risk.sumInsured | number }}</td>
                    <td>{{risk.netPremium | number:'1.2-2'}}</td>
                    <td>
                        <button nz-button nzType="primary" (click)="viewRiskDetails(risk)">View</button>
                        <nz-divider nzType="vertical"></nz-divider>
                        <button nz-button nzType="danger" nz-popconfirm nzTitle="Delete Risk?"
                            (nzOnConfirm)="removeRisk(risk.regNumber)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </nz-table>
        <ng-template id="risksTemplateTable">
            <nz-table [nzData]="risks" [nzSize]="'small'" [nzBordered]="true" id="risksTemplateTable">
                <thead>
                    <tr>
                        <th>insuranceType</th>
                        <th>regNumber</th>
                        <th>vehicleMake</th>
                        <th>vehicleModel</th>
                        <th>engineNumber</th>
                        <th>chassisNumber</th>
                        <th>color</th>
                        <th>productType</th>
                        <th>Sum Insured</th>
                    </tr>
                </thead>
            </nz-table>
        </ng-template>
        <!--  Risks Table Search bar and Table details ends here -->

        <!-- Add quote and reset quote form buttons starts here -->
        <div style="text-align: center; margin-top: 15px; margin-bottom: 10px;">
            <button nz-button nzType="primary" (click)="addQuote()" [disabled]="!quoteForm.valid">
                Create Quote
            </button>
            <button nz-button nzType="default">Reset Form</button>
        </div>
        <!-- Add quote and reset quote form buttons ends here -->
    </nz-card>
    <!-- Risk Details ends here -->



    <!-- Risks Fleet upload modal starts here -->
    <nz-modal [(nzVisible)]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
        (nzOnCancel)="handleCancel()">
        <ng-template #modalTitle>
            Upload Risks
        </ng-template>

        <ng-template #modalContent>
            <nz-upload nzType="drag" [nzMultiple]="true" [nzLimit]="2"
                nzAction="https://flosure-pdf-service.herokuapp.com/risks-uploads" (nzChange)="handleChange($event)">
                <p class="ant-upload-drag-icon">
                    <i nz-icon nzType="inbox"></i>
                </p>
                <p class="ant-upload-text">Click or drag file to this area to upload</p>
            </nz-upload>
        </ng-template>

        <ng-template #modalFooter>
            <button nz-button nzType="default" (click)="handleDownloadTemplate()">Download Template</button>
        </ng-template>
    </nz-modal>
    <!-- Risks Fleet upload modal ends here -->

    <!-- Risk Deatils Modal starts here-->
    <nz-modal [(nzVisible)]="riskDetailsModalVisible" [nzTitle]="riskTitle" [nzContent]="riskContent"
        (nzOnCancel)="closeRiskDetails()" nzWidth="100%">
        <ng-template #riskTitle>
            Risk Details
        </ng-template>

        <ng-template #riskContent>
            <div nz-row nzGutter="0" style="margin-bottom: 30px;">
                <div nz-col nzSpan="12">
                    <nz-form-item>
                        <nz-form-label [nzSpan]="7" nzFor="insuranceType" nzRequired>Insurance Type
                        </nz-form-label>
                        <nz-form-control nzSpan="17">
                            <nz-select name="insuranceType" [(ngModel)]="selectedValue" [compareWith]="compareFn"
                                (ngModelChange)="log($event)" nzAllowClear nzPlaceHolder="Choose"
                                [nzDisabled]="!isRiskDetailsEditmode">
                                <nz-option *ngFor="let option of optionList" [nzValue]="option"
                                    [nzLabel]="option.label"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>

                </div>
                <div nz-col nzSpan="12">
                    <nz-form-item>
                        <button style="float: right;" *ngIf="!isRiskDetailsEditmode" nz-button nzType="primary"
                            (click)="isRiskDetailsEditmode = true"> Edit Policy </button>
                        <button style="float: right;" *ngIf="isRiskDetailsEditmode" nz-button nzType="primary"
                            (click)="isRiskDetailsEditmode = false"> Save Changes </button>
                    </nz-form-item>
                </div>
            </div>

            <!-- Comprehensive Risk Details start here -->
            <div *ngIf="selectedValue?.value === 'Comprehensive'">
                <form [formGroup]="riskComprehensiveForm">
                    <div nz-row nzGutter="0">
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="vehicleMake" nzRequired>Vehicle Make
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzPlaceHolder="Select vehicle make" nzAllowClear nzShowSearch
                                        nzServerSearch [(ngModel)]="selectedVehicleMake" formControlName="vehicleMake"
                                        (nzOnSearch)="onVehicleMakeSearch($event)"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <ng-container *ngFor="let o of vehicleMakeOptionList">
                                            <nz-option *ngIf="!isVehicleMakeLoading" [nzValue]="o" [nzLabel]="o">
                                            </nz-option>
                                        </ng-container>
                                        <nz-option *ngIf="isVehicleMakeLoading" nzDisabled nzCustomContent>
                                            <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                            Data...
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="vehicleModel" nzRequired>Vehicle Model
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzPlaceHolder="Select vehicle model" nzAllowClear nzShowSearch
                                        nzServerSearch [(ngModel)]="selectedVehicleModel" formControlName="vehicleModel"
                                        (nzOnSearch)="onVehicleModelSearch($event)"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <ng-container *ngFor="let o of vehicleModelOptionList">
                                            <nz-option *ngIf="!isVehicleModelLoading" [nzValue]="o" [nzLabel]="o">
                                            </nz-option>
                                        </ng-container>
                                        <nz-option *ngIf="isVehicleModelLoading" nzDisabled nzCustomContent>
                                            <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                            Data...
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="regNumber" nzRequired>Registration Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="regNumber" formControlName="regNumber" type="text"
                                        id="regNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="color" nzRequired>Color</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="color" formControlName="color" type="text" id="color"
                                        [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="engineNumber" nzRequired>Engine Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="engineNumber" formControlName="engineNumber" type="text"
                                        id="engineNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="chassisNumber" nzRequired>Chassis Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="chassisNumber" formControlName="chassisNumber" type="text"
                                        id="chassisNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="productType">Product Type</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzShowSearch nzAllowClear formControlName="productType"
                                        nzPlaceHolder="Select a product type" name="productType" id="productType"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <nz-option nzLabel="Private" nzValue="Private"></nz-option>
                                        <nz-option nzLabel="Commercial" nzValue="Commercial"></nz-option>
                                        <nz-option nzLabel="Bus/Taxi" nzValue="Bus/Taxi"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <!-- <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="estimatedValue" nzRequired>Sum Insured
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="sumInsured" ="sumInsured"
                                        type="text" id="sumInsured" />
                                </nz-form-control>
                            </nz-form-item> -->
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label nzRequired nzSpan="7">Select Start Date</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-date-picker formControlName="riskStartDate" [nzDisabledDate]="disabledStartDate"
                                        nzFormat="dd-MM-yyyy" nzPlaceHolder="Start"
                                        (ngModelChange)="handleComprehensiveRiskEndDateCalculation()"
                                        [nzDisabled]="!isRiskDetailsEditmode"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label nzSpan="7" nzRequired>Quarter</nz-form-label>
                                <nz-form-control nzSpan="6">
                                    <nz-select nzPlaceHolder="Select quarter" formControlName="riskQuarter"
                                        (ngModelChange)="handleComprehensiveRiskEndDateCalculation()"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                                        <nz-option nzValue="4" nzLabel="4"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label nzRequired nzSpan="7">End Date</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-date-picker formControlName="riskEndDate" nzFormat="dd-MM-yyyy"
                                        nzPlaceHolder="End" nzDisabled="true">
                                    </nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                    </div>
                    <div style="margin-top: 15px;">
                        <nz-divider nzText="Premium Computation" nzOrientation="left"></nz-divider>
                        <div nz-row nzGutter="0">
                            <div nz-col nzSpan="8">
                                <nz-form-item>
                                    <nz-form-label nzSpan="7" nzRequired>Sum Insured</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <input nz-input nzPlaceHolder="" name="sumInsured" [(ngModel)]="sumInsured"
                                            [ngModelOptions]="{standalone: true}" [disabled]="!isRiskDetailsEditmode" />
                                    </nz-form-control>
                                </nz-form-item>
                                <nz-form-item>
                                    <nz-form-label nzSpan="7" nzRequired>Premium rate</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <nz-input-group nzCompact>
                                            <nz-select [(ngModel)]="premiumRateType" style="width: 20%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [nzDisabled]="!isRiskDetailsEditmode">
                                                <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                            [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                        <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                            [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                            </nz-select>
                                            <input nz-input nzPlaceHolder="" name="premiumRate"
                                                [(ngModel)]="premiumRate" style="width: 80%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [disabled]="!isRiskDetailsEditmode" />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>

                                <!-- Loading starts here -->
                                <div *ngIf="selectedValue?.value === 'Comprehensive'">
                                    <div *ngIf="isRiskDetailsEditmode">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select name="load" nzPlaceHolder="Select Load"
                                                    [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                    nzAllowClear style="width: 100%;"
                                                    [ngModelOptions]="{standalone: true}" nzAllowClear
                                                    nzLabel="select load" [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option *ngFor="let option of motorComprehensiveloadingOptions"
                                                        [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                </div>
                                <div *ngIf="selectedValue?.value === 'ThirdParty'">
                                    <div *ngIf="isRiskDetailsEditmode">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select name="load" nzPlaceHolder="Select Load"
                                                    [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                    nzAllowClear style="width: 100%;"
                                                    [ngModelOptions]="{standalone: true}" nzAllowClear
                                                    nzLabel="select load" [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option *ngFor="let option of motorThirdPartyloadingOptions"
                                                        [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'increasedThirdPartyLimits'">
                                    <nz-form-item>
                                        <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                            Increase to
                                        </nz-form-label>
                                        <nz-form-control nzSpan="17">
                                            <input nz-input [(ngModel)]="increasedThirdPartyLimitValue"
                                                [ngModelOptions]="{standalone: true}"
                                                [disabled]="!isRiskDetailsEditmode" />
                                        </nz-form-control>
                                    </nz-form-item>
                                    <nz-form-item>
                                        <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                            Rate
                                        </nz-form-label>
                                        <nz-form-control nzSpan="17">
                                            <nz-input-group nzCompact>
                                                <nz-select [(ngModel)]="increasedThirdPartyLimitsRateType"
                                                    style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                    [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                    </nz-option>

                                                </nz-select>
                                                <input nz-input style="width: 60%;" name="increasedThirdPartyLimitsRate"
                                                    [(ngModel)]="increasedThirdPartyLimitsRate"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [disabled]="!isRiskDetailsEditmode" />
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                    <nz-form-item>
                                        <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                            [nzSm]="{ span: 20, offset: 7 }">
                                            <button nz-button nzType="primary"
                                                (click)="computeIncreasedThirdPartyLimit()"
                                                [nzLoading]="computeIncreasedThirdPartyLimitIsLoading">Add
                                                Load</button>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'riotAndStrike'">
                                    <nz-form-item>
                                        <nz-form-label [nzSpan]="7" nzFor="riotAndStrikeRate">Rate
                                        </nz-form-label>
                                        <nz-form-control nzSpan="17">
                                            <nz-input-group nzCompact>
                                                <nz-select [(ngModel)]="riotAndStrikeRateType" style="width: 40%;"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                    </nz-option>
                                                    <!-- <nz-option
                                                                    *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                    [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                <nz-option
                                                                    *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                    [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                </nz-select>
                                                <input nz-input nzPlaceHolder="" name="riotAndStrikeRate"
                                                    [(ngModel)]="riotAndStrikeRate" style="width: 60%;"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [disabled]="!isRiskDetailsEditmode" />
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                    <nz-form-item>
                                        <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                            [nzSm]="{ span: 20, offset: 7 }">
                                            <button nz-button nzType="primary" (click)="computeRiotAndStrike()"
                                                [nzLoading]="computeRiotAndStrikeIsLoading">Add
                                                Load</button>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'carStereo'">
                                    <div nz-row nzGutter="2">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="carStereoValue">Car
                                                    Stereo Value</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input nzPlaceHolder="" name="carStereoValue"
                                                        [(ngModel)]="carStereoValue"
                                                        [ngModelOptions]="{standalone: true}"
                                                        [disabled]="!isRiskDetailsEditmode" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="carStereoRate">Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="carStereoRateType" style="width: 40%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="carStereoRate"
                                                            [(ngModel)]="carStereoRate" style="width: 60%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [disabled]="!isRiskDetailsEditmode" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeCarStereo()"
                                                        [nzLoading]="computeCarStereoIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'territorailExtension'">
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="territorailExtensionRate">Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="territorailExtensionRateType"
                                                            style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input style="width: 60%;" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary"
                                                        (click)="computeTerritorialExtension()"
                                                        [nzLoading]="computeTerritorialExtensionIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'lossOfUse'">
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="lossOfUseDailyRate">Daily Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="lossOfUseDailyRateType"
                                                            style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="riskComprehensiveForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="riskComprehensiveForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="lossOfUseDailyRate"
                                                            [(ngModel)]="lossOfUseDailyRate" style="width: 60%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [disabled]="!isRiskDetailsEditmode" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="lossOfUseDays">Number Of
                                                    Days</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input id="lossOfUseDays" nzPlaceHolder=""
                                                        name="lossOfUseDays" [(ngModel)]="lossOfUseDays"
                                                        [ngModelOptions]="{standalone: true}"
                                                        [disabled]="!isRiskDetailsEditmode" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeLossOfUse()"
                                                        [nzLoading]="computeLossOfUseIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <!-- Loading Ends here -->

                                <nz-form-item>
                                    <nz-form-label nzSpan="7">Discount Rate</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <nz-input-group nzCompact>
                                            <nz-select [(ngModel)]="premiumDiscountRateType" style="width: 20%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [nzDisabled]="!isRiskDetailsEditmode">
                                                <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                            [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option>
                                                        <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                            [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option> -->
                                            </nz-select>
                                            <input nz-input nzPlaceHolder="" name="premiumDiscountRate"
                                                [(ngModel)]="premiumDiscountRate" style="width: 80%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [disabled]="!isRiskDetailsEditmode" />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>
                                <nz-form-item>
                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                        <button nz-button nzType="primary" (click)="computePremium()"
                                            [nzLoading]="computePremiumIsLoading">Compute Premium</button>
                                    </nz-form-control>
                                </nz-form-item>
                                <!-- <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeBasicPremium()" [nzLoading]="computeBasicPremiumIsLoading">Compute</button>
                                                </nz-form-control>
                                            </nz-form-item> -->
                            </div>

                            <div nz-col nzSpan="8">
                                    <div nz-col nzSpan="20" style="float: right;">
                                        <nz-card>
                                            <nz-divider nzText="Loading" nzOrientation="left"></nz-divider>
                                            <div *ngIf="(loads === undefined || loads.length == 0)">
                                                <p>No Loading added</p>
                                            </div>
                                            <div *ngFor="let load of loads; let i = index;">
                                                <div>
                                                    <div nz-row>
                                                        <div nz-col nzSpan="12">
                                                            <p>{{load.loadType}}</p>
                                                        </div>
                                                        <div nz-col nzSpan="12">
                                                            <a style="float: right;"
                                                                (click)="removeLoad(load, $event)">Remove
                                                                Loading</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </nz-card>
                                    </div>
                                </div>


                            <div nz-col nzSpan="8">
                                <div nz-col nzSpan="20" style="float: right;">
                                    <nz-card>
                                        <nz-descriptions nzBordered nzSize="small" nzSpan="6" style="margin-top: 5px;"
                                            [nzColumn]="1" [nzBordered]="true" nzSize="middle">
                                            <nz-descriptions-item nzTitle="Basic Premium">{{basicPremium}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Loading">{{premiumLoadingTotal}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Discount">{{premiumDiscount}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Levy">{{0}}</nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Net Premium">{{netPremium | number:'1.2-2'}}
                                            </nz-descriptions-item>
                                        </nz-descriptions>
                                    </nz-card>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Comprehensive risk details end here -->

            <!-- Third party risk details start here -->
            <div *ngIf="selectedValue?.value === 'ThirdParty'">
                <form [formGroup]="riskThirdPartyForm">
                    <div nz-row nzGutter="0">
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="vehicleMake" nzRequired>Vehicle Make
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzPlaceHolder="Select vehicle make" nzAllowClear nzShowSearch
                                        nzServerSearch [(ngModel)]="selectedVehicleMake" formControlName="vehicleMake"
                                        (nzOnSearch)="onVehicleMakeSearch($event)"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <ng-container *ngFor="let o of vehicleMakeOptionList">
                                            <nz-option *ngIf="!isVehicleMakeLoading" [nzValue]="o" [nzLabel]="o">
                                            </nz-option>
                                        </ng-container>
                                        <nz-option *ngIf="isVehicleMakeLoading" nzDisabled nzCustomContent>
                                            <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                            Data...
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="vehicleModel" nzRequired>Vehicle Model
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzPlaceHolder="Select vehicle model" nzAllowClear nzShowSearch
                                        nzServerSearch [(ngModel)]="selectedVehicleModel" formControlName="vehicleModel"
                                        (nzOnSearch)="onVehicleModelSearch($event)"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <ng-container *ngFor="let o of vehicleModelOptionList">
                                            <nz-option *ngIf="!isVehicleModelLoading" [nzValue]="o" [nzLabel]="o">
                                            </nz-option>
                                        </ng-container>
                                        <nz-option *ngIf="isVehicleModelLoading" nzDisabled nzCustomContent>
                                            <i nz-icon nzType="loading" class="loading-icon"></i> Loading
                                            Data...
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="regNumber" nzRequired>Registration Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="regNumber" formControlName="regNumber" type="text"
                                        id="regNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="color" nzRequired>Color</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="color" formControlName="color" type="text" id="color"
                                        [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="engineNumber" nzRequired>Engine Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="engineNumber" formControlName="engineNumber" type="text"
                                        id="engineNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="chassisNumber" nzRequired>Chassis Number
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="chassisNumber" formControlName="chassisNumber" type="text"
                                        id="chassisNumber" [disabled]="!isRiskDetailsEditmode" />
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="productType">Product Type</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-select nzShowSearch nzAllowClear formControlName="productType"
                                        nzPlaceHolder="Select a product type" name="productType" id="productType"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <nz-option nzLabel="Private" nzValue="Private"></nz-option>
                                        <nz-option nzLabel="Commercial" nzValue="Commercial"></nz-option>
                                        <nz-option nzLabel="Bus/Taxi" nzValue="Bus/Taxi"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <!-- <nz-form-item>
                                <nz-form-label [nzSpan]="7" nzFor="estimatedValue" nzRequired>Sum Insured
                                </nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <input nz-input name="sumInsured" ="sumInsured"
                                        type="text" id="sumInsured" />
                                </nz-form-control>
                            </nz-form-item> -->
                        </div>
                        <div nz-col nzSpan="8">
                            <nz-form-item>
                                <nz-form-label nzRequired nzSpan="7">Select Start Date</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-date-picker formControlName="riskStartDate" [nzDisabledDate]="disabledStartDate"
                                        nzFormat="dd-MM-yyyy" nzPlaceHolder="Start"
                                        (ngModelChange)="handleThirdPartyRiskEndDateCalculation()"
                                        [nzDisabled]="!isRiskDetailsEditmode"></nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label nzSpan="7" nzRequired>Quarter</nz-form-label>
                                <nz-form-control nzSpan="6">
                                    <nz-select nzPlaceHolder="Select quarter" formControlName="riskQuarter"
                                        (ngModelChange)="handleThirdPartyRiskEndDateCalculation()"
                                        [nzDisabled]="!isRiskDetailsEditmode">
                                        <nz-option nzValue="1" nzLabel="1"></nz-option>
                                        <nz-option nzValue="2" nzLabel="2"></nz-option>
                                        <nz-option nzValue="3" nzLabel="3"></nz-option>
                                        <nz-option nzValue="4" nzLabel="4"></nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </nz-form-item>
                            <nz-form-item>
                                <nz-form-label nzRequired nzSpan="7">End Date</nz-form-label>
                                <nz-form-control nzSpan="17">
                                    <nz-date-picker formControlName="riskEndDate" nzFormat="dd-MM-yyyy"
                                        nzPlaceHolder="End" nzDisabled="true">
                                    </nz-date-picker>
                                </nz-form-control>
                            </nz-form-item>
                        </div>

                    </div>
                    <div style="margin-top: 15px;">
                        <nz-divider nzText="Premium Computation" nzOrientation="left"></nz-divider>
                        <div nz-row nzGutter="0">
                            <div nz-col nzSpan="8">
                                <nz-form-item>
                                    <nz-form-label nzSpan="7" nzRequired>Sum Insured</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <input nz-input nzPlaceHolder="" name="sumInsured" [(ngModel)]="sumInsured"
                                            [ngModelOptions]="{standalone: true}" [disabled]="!isRiskDetailsEditmode" />
                                    </nz-form-control>
                                </nz-form-item>
                                <nz-form-item>
                                    <nz-form-label nzSpan="7" nzRequired>Premium rate</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <nz-input-group nzCompact>
                                            <nz-select [(ngModel)]="premiumRateType" style="width: 20%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [nzDisabled]="!isRiskDetailsEditmode">
                                                <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                            [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                        <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                            [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                            </nz-select>
                                            <input nz-input nzPlaceHolder="" name="premiumRate"
                                                [(ngModel)]="premiumRate" style="width: 80%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [disabled]="!isRiskDetailsEditmode" />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>

                                <!-- Loading starts here -->
                                <div *ngIf="selectedValue?.value === 'Comprehensive'">
                                    <div *ngIf="isRiskDetailsEditmode">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select name="load" nzPlaceHolder="Select Load"
                                                    [(ngModel)]="selectedLoadingValue" [compareWith]="compareFn"
                                                    nzAllowClear style="width: 100%;"
                                                    [ngModelOptions]="{standalone: true}" nzAllowClear
                                                    nzLabel="select load" [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option *ngFor="let option of motorComprehensiveloadingOptions"
                                                        [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                </div>
                                <div *ngIf="isRiskDetailsEditmode">
                                    <div *ngIf="selectedValue?.value === 'ThirdParty'">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="load">Add Load
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-select name="load" [(ngModel)]="selectedLoadingValue"
                                                    [compareWith]="compareFn" nzAllowClear style="width: 100%;"
                                                    [ngModelOptions]="{standalone: true}" nzAllowClear
                                                    nzLabel="select load" [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option *ngFor="let option of motorThirdPartyloadingOptions"
                                                        [nzValue]="option" [nzLabel]="option.label"></nz-option>
                                                </nz-select>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                    <div *ngIf="selectedLoadingValue.value === 'increasedThirdPartyLimits'">
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                Increase to
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <input nz-input [(ngModel)]="increasedThirdPartyLimitValue"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [disabled]="!isRiskDetailsEditmode" />
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-label [nzSpan]="7" nzFor="increasedThirdPartyLimitsRate">
                                                Rate
                                            </nz-form-label>
                                            <nz-form-control nzSpan="17">
                                                <nz-input-group nzCompact>
                                                    <nz-select [(ngModel)]="increasedThirdPartyLimitsRateType"
                                                        style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                        [nzDisabled]="!isRiskDetailsEditmode">
                                                        <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                        </nz-option>

                                                    </nz-select>
                                                    <input nz-input style="width: 60%;"
                                                        name="increasedThirdPartyLimitsRate"
                                                        [(ngModel)]="increasedThirdPartyLimitsRate"
                                                        [ngModelOptions]="{standalone: true}"
                                                        [disabled]="!isRiskDetailsEditmode" />
                                                </nz-input-group>
                                            </nz-form-control>
                                        </nz-form-item>
                                        <nz-form-item>
                                            <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                [nzSm]="{ span: 20, offset: 7 }">
                                                <button nz-button nzType="primary"
                                                    (click)="computeIncreasedThirdPartyLimit()"
                                                    [nzLoading]="computeIncreasedThirdPartyLimitIsLoading">Add
                                                    Load</button>
                                            </nz-form-control>
                                        </nz-form-item>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'riotAndStrike'">
                                    <nz-form-item>
                                        <nz-form-label [nzSpan]="7" nzFor="riotAndStrikeRate">Rate
                                        </nz-form-label>
                                        <nz-form-control nzSpan="17">
                                            <nz-input-group nzCompact>
                                                <nz-select [(ngModel)]="riotAndStrikeRateType" style="width: 40%;"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [nzDisabled]="!isRiskDetailsEditmode">
                                                    <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                    </nz-option>
                                                    <!-- <nz-option
                                                                    *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                    [nzLabel]="'K'" nzValue="figure"></nz-option>
                                                                <nz-option
                                                                    *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                    [nzLabel]="'$'" nzValue="figure"></nz-option> -->
                                                </nz-select>
                                                <input nz-input nzPlaceHolder="" name="riotAndStrikeRate"
                                                    [(ngModel)]="riotAndStrikeRate" style="width: 60%;"
                                                    [ngModelOptions]="{standalone: true}"
                                                    [disabled]="!isRiskDetailsEditmode" />
                                            </nz-input-group>
                                        </nz-form-control>
                                    </nz-form-item>
                                    <nz-form-item>
                                        <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                            [nzSm]="{ span: 20, offset: 7 }">
                                            <button nz-button nzType="primary" (click)="computeRiotAndStrike()"
                                                [nzLoading]="computeRiotAndStrikeIsLoading">Add
                                                Load</button>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'carStereo'">
                                    <div nz-row nzGutter="2">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="carStereoValue">Car
                                                    Stereo Value</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input nzPlaceHolder="" name="carStereoValue"
                                                        [(ngModel)]="carStereoValue"
                                                        [ngModelOptions]="{standalone: true}"
                                                        [disabled]="!isRiskDetailsEditmode" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="carStereoRate">Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="carStereoRateType" style="width: 40%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="carStereoRate"
                                                            [(ngModel)]="carStereoRate" style="width: 60%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [disabled]="!isRiskDetailsEditmode" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeCarStereo()"
                                                        [nzLoading]="computeCarStereoIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'territorailExtension'">
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="territorailExtensionRate">Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="territorailExtensionRateType"
                                                            style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="quoteDetailsForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input style="width: 60%;"
                                                            [disabled]="!isRiskDetailsEditmode" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary"
                                                        (click)="computeTerritorialExtension()"
                                                        [nzLoading]="computeTerritorialExtensionIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="selectedLoadingValue.value === 'lossOfUse'">
                                    <div nz-row nzGutter="0">
                                        <div nz-col nzSpan="25">
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="lossOfUseDailyRate">Daily Rate
                                                </nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <nz-input-group nzCompact>
                                                        <nz-select [(ngModel)]="lossOfUseDailyRateType"
                                                            style="width: 40%;" [ngModelOptions]="{standalone: true}"
                                                            [nzDisabled]="!isRiskDetailsEditmode">
                                                            <nz-option [nzLabel]="'%'" nzValue="percentage">
                                                            </nz-option>
                                                            <!-- <nz-option
                                                                            *ngIf="riskComprehensiveForm.get('currency').value === 'ZMW'"
                                                                            [nzLabel]="'K'" nzValue="figure">
                                                                        </nz-option>
                                                                        <nz-option
                                                                            *ngIf="riskComprehensiveForm.get('currency').value === 'Dollar'"
                                                                            [nzLabel]="'$'" nzValue="figure">
                                                                        </nz-option> -->
                                                        </nz-select>
                                                        <input nz-input nzPlaceHolder="" name="lossOfUseDailyRate"
                                                            [(ngModel)]="lossOfUseDailyRate" style="width: 60%;"
                                                            [ngModelOptions]="{standalone: true}"
                                                            [disabled]="!isRiskDetailsEditmode" />
                                                    </nz-input-group>
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-label [nzSpan]="7" nzFor="lossOfUseDays">Number Of
                                                    Days</nz-form-label>
                                                <nz-form-control nzSpan="17">
                                                    <input nz-input id="lossOfUseDays" nzPlaceHolder=""
                                                        name="lossOfUseDays" [(ngModel)]="lossOfUseDays"
                                                        [ngModelOptions]="{standalone: true}"
                                                        [disabled]="!isRiskDetailsEditmode" />
                                                </nz-form-control>
                                            </nz-form-item>
                                            <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }"
                                                    [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeLossOfUse()"
                                                        [nzLoading]="computeLossOfUseIsLoading">Add
                                                        Load</button>
                                                </nz-form-control>
                                            </nz-form-item>
                                        </div>
                                    </div>
                                </div>
                                <!-- Loading Ends here -->

                                <nz-form-item>
                                    <nz-form-label nzSpan="7">Discount Rate</nz-form-label>
                                    <nz-form-control nzSpan="17">
                                        <nz-input-group nzCompact>
                                            <nz-select [(ngModel)]="premiumDiscountRateType" style="width: 20%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [nzDisabled]="!isRiskDetailsEditmode">
                                                <nz-option [nzLabel]="'%'" nzValue="percentage"></nz-option>
                                                <!-- <nz-option *ngIf="quoteForm.get('currency').value === 'ZMW'"
                                                            [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option>
                                                        <nz-option *ngIf="quoteForm.get('currency').value === 'Dollar'"
                                                            [nzLabel]="'NCD(%)'" nzValue="figure"></nz-option> -->
                                            </nz-select>
                                            <input nz-input nzPlaceHolder="" name="premiumDiscountRate"
                                                [(ngModel)]="premiumDiscountRate" style="width: 80%;"
                                                [ngModelOptions]="{standalone: true}"
                                                [disabled]="!isRiskDetailsEditmode" />
                                        </nz-input-group>
                                    </nz-form-control>
                                </nz-form-item>
                                <nz-form-item>
                                    <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                        <button nz-button nzType="primary" (click)="computePremium()"
                                            [nzLoading]="computePremiumIsLoading">Compute Premium</button>
                                    </nz-form-control>
                                </nz-form-item>
                                <!-- <nz-form-item>
                                                <nz-form-control [nzXs]="{ span: 24, offset: 4 }" [nzSm]="{ span: 20, offset: 7 }">
                                                    <button nz-button nzType="primary" (click)="computeBasicPremium()" [nzLoading]="computeBasicPremiumIsLoading">Compute</button>
                                                </nz-form-control>
                                            </nz-form-item> -->
                            </div>

                            <div nz-col nzSpan="8">
                                    <div nz-col nzSpan="20" style="float: right;">
                                        <nz-card>
                                            <nz-divider nzText="Loading" nzOrientation="left"></nz-divider>
                                            <div *ngIf="(loads === undefined || loads.length == 0)">
                                                <p>No Loading added</p>
                                            </div>
                                            <div *ngFor="let load of loads; let i = index;">
                                                <div>
                                                    <div nz-row>
                                                        <div nz-col nzSpan="12">
                                                            <p>{{load.loadType}}</p>
                                                        </div>
                                                        <div nz-col nzSpan="12">
                                                            <a style="float: right;"
                                                                (click)="removeLoad(load, $event)">Remove
                                                                Loading</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </nz-card>
                                    </div>
                                </div>


                            <div nz-col nzSpan="8">
                                <div nz-col nzSpan="20" style="float: right;">
                                    <nz-card>
                                        <nz-descriptions nzBordered nzSize="small" nzSpan="6" style="margin-top: 5px;"
                                            [nzColumn]="1" [nzBordered]="true" nzSize="middle">
                                            <nz-descriptions-item nzTitle="Basic Premium">{{basicPremium}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Loading">{{premiumLoadingTotal}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Discount">{{premiumDiscount}}
                                            </nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Levy">{{0}}</nz-descriptions-item>
                                            <nz-descriptions-item nzTitle="Net Premium">{{netPremium | number:'1.2-2'}}
                                            </nz-descriptions-item>
                                        </nz-descriptions>
                                    </nz-card>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </ng-template>
    </nz-modal>
    <!-- Risk Deatils Modal ends here-->
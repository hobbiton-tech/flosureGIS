<div
    style="
        display: flex;
        margin-bottom: 15px;
        align-items: flex-end;
        width: 100%;
    "
>
    <!-- <button nz-button nzType="primary" style="margin-right: 8px;" (click)="htmlToPdf()">
        Download
    </button> -->
    <button
        nz-button
        nzType="primary"
        [useExistingCss]="true"
        [printSectionId]="'debitPrintSection'"
        ngxPrint
    >
        Print
    </button>
</div>
<div id="debitPrintSection">
    <div class="invoice-box">
        <table cellpadding="0" cellspacing="0">
            <tr class="top">
                <td colspan="6">
                    <table>
                        <tr>
                            <td class="title"> <img
                                src="/assets/images/Savenda-Logo-Final.png"
                                style="width: 100%; max-width: 240px;"
                            /></td>

                            <td
                                style="
                                    font-size: 11px;
                                    float: right !important;
                                "
                            >
                                Savenda General Insurance LTD<br />
                                Plot 20849 PSC Corporate Park, <br />
                                P.O Box 30363, Lusaka Zambia<br />
                                Tel: :+260 977 893 878, +260 960 344 478<br />
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>

        <hr style="width: 100%; height: 2px; background-color: black;" />

        <table>
            <tr class="information">
                <td colspan="6">
                    <p id="title">DEBIT NOTE</p>
                </td>
            </tr>
            <tr class="subTitle">
                <td>
                    <p style="float: right !important;">
                        <span style="font-weight: bold;">No:</span>
                        {{
                            policyDebitNote
                                ? policyDebitNote.debitNoteNumber
                                : '-'
                        }}
                    </p>
                    <span style="font-weight: bold;">TPIN:</span
                    ><span style="font-weight: bold; color: red;"></span>
                </td>
            </tr>
        </table>

        <br />
        <table>
            <tr>
                <td>
                    <span style="font-weight: bold;"
                        >Insured: {{ policy.nameOfInsured }}</span
                    >
                </td>
                <td style="float: right !important;">
                    <span style="font-weight: bold;"
                        >Date:
                        {{
                            policyDebitNote
                                ? (policyDebitNote.dateCreated | date)
                                : '-'
                        }}</span
                    >
                </td>
            </tr>
            <tr>
                <td>
                    <span style="font-weight: bold;"
                        >Address: {{ client ? client.address : '-' }}</span
                    >
                </td>
                <td style="float: right !important;">
                    <span style="font-weight: bold;"
                        >Agent:
                        {{
                            policy.sourceOfBusiness == 'direct'
                                ? 'Direct'
                                : policy.intermediaryName
                        }}</span
                    >
                </td>
            </tr>
            <tr>
                <td>
                    <span style="font-weight: bold;"
                        >Telephone: {{ client ? client.phone : '-' }}</span
                    >
                </td>
                <!-- <td style="float: right !important"><span style="font-weight: bold;">Terms: </span></td> -->
            </tr>
        </table>
        <br />

        <table
            style="width: 100%; font-size: 12px;"
            #risksTable
            nzFrontPagination="false"
            nzShowPagination="false"
        >
            <tr class="heading">
                <th style="border: 1px solid black; border-collapse: collapse;">
                    Binder No.
                </th>
                <th
                    class="td2"
                    style="border: 1px solid black; border-collapse: collapse;"
                >
                    Cover No.
                </th>
                <th style="border: 1px solid black; border-collapse: collapse;">
                    Insured's Name & Asset
                </th>
                <th id="td3" style="border: 1px solid black;">
                    Premium ({{ policy.currency == 'ZMW' ? 'K' : '$' }})
                </th>
            </tr>

            <tr *ngFor="let risk of policy.risks" class="details">
                <td
                    style="border: 1px solid black; border-collapse: collapse;"
                ></td>

                <td
                    class="td2"
                    style="border: 1px solid black; border-collapse: collapse;"
                >
                    {{ coverNote(risk) }}
                </td>
                <td style="border: 1px solid black;">
                    {{ risk.regNumber }}, {{ risk.vehicleMake }}
                    {{ risk.vehicleModel }} -
                    <ng-container *ngIf="risk.insuranceType === 'ThirdParty'">
                        Third Party
                    </ng-container>
                    <ng-container *ngIf="risk.insuranceType === 'ActOnly'">
                        Act Only Cover
                    </ng-container>
                    <ng-container
                        *ngIf="risk.insuranceType === 'Comprehensive'"
                    >
                        Comprehensive
                    </ng-container>
                    <ng-container *ngIf="risk.insuranceType === 'FireAndTheft'">
                        Third Party Fire and Theft
                    </ng-container>
                    <!-- {{ risk.insuranceType == 'ThirdParty' ? 'Third Party' : 'Comprehensive' }} -->
                </td>
                <td
                    id="td3"
                    style="border: 1px solid black; border-collapse: collapse;"
                >
                    {{ risk.basicPremium | number: '1.2-2' }}
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td style="float: right !important; font-weight: bold;">
                    Sub Total:
                </td>
                <td style="border: 1px solid black; border-collapse: collapse;">
                    <span>{{ subTotal | number: '1.2-2' }}</span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td style="float: right !important; font-weight: bold;">
                    Insurance Levy 3%:
                </td>
                <td style="border: 1px solid black; border-collapse: collapse;">
                    <span>{{ premiumLevy | number: '1.2-2' }}</span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td style="float: right !important; font-weight: bold;">
                    Total:
                </td>
                <td style="border: 1px solid black; border-collapse: collapse;">
                    <span>{{ policy.netPremium | number: '1.2-2' }}</span>
                </td>
            </tr>
        </table>

        <!-- <p style="text-align: right; font-weight: bold;">
            Sub Total:
            <span>{{policy.currency == 'ZMW' ? 'K' : '$'}}{{ subTotal | number: '1.2-2' }}</span>
        </p>
        <p style="text-align: right; font-weight: bold;">
            Insurance Levy 3%:
            <span>{{policy.currency == 'ZMW' ? 'K' : '$'}}{{ premiumLevy | number: '1.2-2' }}</span>
        </p>
        <p style="text-align: right; font-weight: bold;">
            Total:
            <span>{{policy.currency == 'ZMW' ? 'K' : '$'}}{{ policy.netPremium | number: '1.2-2' }}</span>
        </p> -->
        <br />
        <p style="font-weight: bold; text-align: left;">
            Prepared By: ................................................<span
                style="float: right;"
            >
                Sign:...............................................</span
            >
        </p>

        <br />

        <p style="font-weight: bold; text-align: left;">
            Approved By: ................................................<span
                style="float: right;"
            >
                Sign:...............................................</span
            >
        </p>
    </div>
</div>

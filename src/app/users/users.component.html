<div style="margin: 10px;">
    <div style="margin-bottom: 10px; background: #fff;">
        <nz-page-header>
            <nz-page-header-title>User</nz-page-header-title>
            <nz-page-header-subtitle>List of all users</nz-page-header-subtitle>
            <nz-page-header-extra>
                <!-- <button nz-button>View Summary</button> -->
                <button nz-button nzType="primary" (click)="showModal()">
                    Add New User
                </button>
                <nz-modal
                    [(nzVisible)]="isVisible"
                    [nzWidth]="'1200'"
                    nzTitle="Creat User"
                    (nzOnCancel)="handleCancel()"
                    (nzOnOk)="handleOk()"
                >
                    <nz-card
                        style="width: 90%; margin: 0 auto;"
                        [nzBordered]="true"
                        nzTitle="Personal Details"
                    >
                        <form
                            nz-form
                            [formGroup]="userDetailsForm"
                            novalidate
                            (ngSubmit)="onSubmit()"
                        >
                            <div nz-row>
                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSpan]="7"
                                            nzFor="first_name"
                                            >First Name</nz-form-label
                                        >
                                        <nz-form-control [nzSpan]="17">
                                            <input
                                                nz-input
                                                formControlName="first_name"
                                                name="first_name"
                                                type="text"
                                                id="first_name"
                                                placeholder="First Name"
                                            />
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>

                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSpan]="7"
                                            nzFor="last_name"
                                            >Last Name</nz-form-label
                                        >
                                        <nz-form-control [nzSpan]="17">
                                            <input
                                                nz-input
                                                formControlName="last_name"
                                                name="last_name"
                                                type="text"
                                                id="last_name"
                                                placeholder="Last Name"
                                            />
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>

                            <div nz-row>
                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSpan]="7"
                                            nzFor="email"
                                            >Email</nz-form-label
                                        >
                                        <nz-form-control [nzSpan]="17">
                                            <input
                                                nz-input
                                                formControlName="email"
                                                name="email"
                                                type="email"
                                                id="email"
                                                placeholder="Email Address"
                                            />
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>

                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSpan]="7"
                                            nzFor="phone_number"
                                            >Phone No.</nz-form-label
                                        >
                                        <nz-form-control [nzSpan]="17">
                                            <input
                                                nz-input
                                                formControlName="phone_number"
                                                name="phone_number"
                                                type="tel"
                                                id="phone_number"
                                                placeholder="Phone Number"
                                            />
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>

                            <div nz-row>
                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSm]="7"
                                            [nzXs]="24"
                                            nzFor="password"
                                            >Password</nz-form-label
                                        >
                                        <nz-form-control
                                            [nzSm]="17"
                                            [nzXs]="24"
                                            nzErrorTip="Please input your password!"
                                        >
                                            <input
                                                nz-input
                                                type="password"
                                                id="password"
                                                formControlName="password"
                                                (ngModelChange)="
                                                    updateConfirmValidator()
                                                "
                                            />
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>

                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSm]="7"
                                            [nzXs]="24"
                                            nzFor="checkPassword"
                                            >Confirm Password</nz-form-label
                                        >
                                        <nz-form-control
                                            [nzSm]="17"
                                            [nzXs]="24"
                                            [nzErrorTip]="errorTpl"
                                        >
                                            <input
                                                nz-input
                                                type="password"
                                                formControlName="checkPassword"
                                                id="checkPassword"
                                            />
                                            <ng-template #errorTpl let-control>
                                                <ng-container
                                                    *ngIf="
                                                        control.hasError(
                                                            'required'
                                                        )
                                                    "
                                                >
                                                    Please confirm your
                                                    password!
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="
                                                        control.hasError(
                                                            'confirm'
                                                        )
                                                    "
                                                >
                                                    Two passwords that you enter
                                                    is inconsistent!
                                                </ng-container>
                                            </ng-template>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>

                            <div nz-row>
                                <div nz-col [nzSpan]="12">
                                    <nz-form-item>
                                        <nz-form-label
                                            [nzSpan]="7"
                                            nzFor="roleID"
                                            >Roles</nz-form-label
                                        >
                                        <nz-form-control [nzSpan]="17">
                                            <nz-select
                                                nzMode="multiple"
                                                formControlName="Roles"
                                                nzShowSearch
                                                nzServerSearch
                                                nzAllowClear
                                                placeholder="Select a Roles"
                                            >
                                                <nz-option
                                                    *ngFor="
                                                        let option of listOfOption
                                                    "
                                                    [nzLabel]="option"
                                                    [nzValue]="option"
                                                    [nzHide]="
                                                        !isNotSelected(option)
                                                    "
                                                ></nz-option>
                                            </nz-select>
                                        </nz-form-control>
                                    </nz-form-item>
                                </div>
                            </div>
                        </form>
                    </nz-card>
                </nz-modal>
            </nz-page-header-extra>
            <nz-page-header-content>
                <nz-descriptions [nzColumn]="3">
                    <!-- <nz-descriptions-item nzTitle="Agent" [nzSpan]="1"
                        >Charles Malama</nz-descriptions-item
                    >
                    <nz-descriptions-item nzTitle="Association" [nzSpan]="1"
                        ><a>421421</a></nz-descriptions-item
                    >
                    <nz-descriptions-item nzTitle="Last Update" [nzSpan]="1"
                        >2017-01-10</nz-descriptions-item
                    >
                    <nz-descriptions-item nzTitle="Total Policies" [nzSpan]="1"
                        >231</nz-descriptions-item
                    > -->
                    <!-- <nz-descriptions-item nzTitle="Draft Policies" [nzSpan]="1">130</nz-descriptions-item>
          <nz-descriptions-item nzTitle="Confirmed Policies" [nzSpan]="1">101</nz-descriptions-item> -->
                </nz-descriptions>
            </nz-page-header-content>
        </nz-page-header>
    </div>
    <nz-card>
        <div style="margin-bottom: 10px; width: 50%;">
            <nz-input-group [nzSuffix]="suffixIconSearch">
                <input type="text" nz-input placeholder="Search by user name" />
            </nz-input-group>
            <ng-template #suffixIconSearch>
                <i nz-icon nzType="search"></i>
            </ng-template>
        </div>
        <nz-table
            #usersTable
            [nzData]="usersList"
            [nzSize]="'small'"
            [nzBordered]="true"
        >
            <thead>
                <tr>
                    <th>User Name</th>
                    <th>Email</th>
                    <th>Roles</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of usersTable.data">
                    <td></td>
                    <td></td>
                    <td></td>

                    <!-- <td>
          <nz-badge [nzStatus]="user.status === 'Draft' ? 'warning' : 'success'" [nzText]="user.status"></nz-badge>-->
                    <td>
                        <button nz-button nzType="default">
                            <i nz-icon nzType="edit"></i>
                        </button>
                        <button nz-button nzType="default">
                            <i nz-icon nzType="delete"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </nz-card>
</div>
